!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core")):"function"==typeof define&&define.amd?define(["exports","@angular/core"],e):e((t.ng=t.ng||{},t.ng["angular-graphk"]={}),t.ng.core)}(this,function(t,e){"use strict";var a=function(){function t(){this._padding=5,this._polygonLength=1,this.polygonLineStrokeStyle="#969696",this.polygonDataFillStyle="rgba(71, 169, 203, 0.5)"}return Object.defineProperty(t.prototype,"polygonLength",{get:function(){return this._polygonLength},set:function(t){this._polygonLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.reDraw()},t.prototype.ngOnInit=function(){this.reDraw()},t.prototype.ngAfterViewInit=function(){this.reDraw()},t.prototype.reDraw=function(){var t=this.canvasElementRef.nativeElement,e=t.getContext("2d");if(e.clearRect(0,0,t.width,t.height),this.data&&this.data.data&&!(this.data.data.length<3)){t.width=Math.max(this.width-5,0),t.height=Math.max(this.height-5,0);var a=t.width/2,o=t.height/2,n=-Math.PI/2,h=this.data.data.length,i=a-this.padding,r=i/this.polygonLength;this.polygonLine(e,a,o,i,h,n);for(var s=1;s<=this.polygonLength;s++)this.polygon(e,a,o,r*s,h,n);this.polygonData(e,a,o,this.data,i,n)}},t.prototype.polygonData=function(t,e,a,o,n,h){var i=o.data.length;if(!(i<3)){var r=2*Math.PI/i;t.save(),t.strokeStyle=this.polygonDataFillStyle,t.fillStyle=this.polygonDataFillStyle,t.beginPath(),t.translate(e,a),t.rotate(h),t.moveTo(n*o.data[0]/o.max,0);for(var s=1;s<i;s++){var l=n*o.data[s]/o.max,f=l*Math.cos(r*s),g=l*Math.sin(r*s);t.lineTo(f,g)}t.fill(),t.closePath(),t.stroke(),t.restore()}},t.prototype.polygon=function(t,e,a,o,n,h){if(!(n<3)){var i=2*Math.PI/n;t.save(),t.strokeStyle=this.polygonLineStrokeStyle,t.beginPath(),t.translate(e,a),t.rotate(h),t.moveTo(o,0);for(var r=1;r<n;r++){var s=o*Math.cos(i*r),l=o*Math.sin(i*r);t.lineTo(s,l)}t.closePath(),t.stroke(),t.restore()}},t.prototype.polygonLine=function(t,e,a,o,n,h){if(!(n<3)){var i=2*Math.PI/n;t.save(),t.strokeStyle=this.polygonLineStrokeStyle,t.translate(e,a),t.rotate(h),t.beginPath(),t.moveTo(o,0),t.lineTo(0,0),t.stroke();for(var r=1;r<n;r++){var s=o*Math.cos(i*r),l=o*Math.sin(i*r);t.moveTo(s,l),t.lineTo(0,0),t.stroke()}t.restore()}},t.decorators=[{type:e.Component,args:[{selector:"graphk-polygon",template:"<canvas #canvas></canvas>"}]}],t.ctorParameters=function(){return[]},t.propDecorators={polygonLineStrokeStyle:[{type:e.Input}],polygonLength:[{type:e.Input}],padding:[{type:e.Input}],data:[{type:e.Input}],width:[{type:e.Input}],height:[{type:e.Input}],canvasElementRef:[{type:e.Output},{type:e.ViewChild,args:["canvas"]}]},t}(),o=function(){function t(){this.padding=5}return t.prototype.ngOnChanges=function(t){this.reDraw()},t.prototype.ngOnInit=function(){this.reDraw()},t.prototype.ngAfterViewInit=function(){this.reDraw()},t.prototype.reDraw=function(){var t=this.canvasElementRef.nativeElement,e=t.getContext("2d");if(e.clearRect(0,0,t.width,t.height),this.data&&!(this.data.length<1)){t.width=Math.max(this.width-5,0),t.height=Math.max(this.height-5,0);var a=t.width/2,o=(t.height,Math.max(a-this.padding,0));e.save(),e.lineWidth=.5,e.strokeStyle="#c3c3c3",e.translate(a,t.height),e.rotate(Math.PI),e.beginPath(),e.moveTo(0,0),e.arc(0,0,o,0,Math.PI),e.closePath(),e.stroke(),e.restore();for(var n=Math.max(100*o/100,0),h=0;h<this.data.length;h++){(s=this.data[h]).safe&&(e.save(),e.fillStyle=s.safeFillStyle,e.lineWidth=.1,e.strokeStyle="#c3c3c3",e.translate(a,t.height),e.rotate(Math.PI+Math.PI/this.data.length*h),e.beginPath(),e.moveTo(0,0),e.arc(0,0,n,0,Math.PI/this.data.length),e.closePath(),e.fill(),e.stroke(),e.restore())}n=95*o/100,e.save(),e.fillStyle="#ffffff",e.lineWidth=1,e.strokeStyle="#c3c3c3",e.shadowColor="#c3c3c3",e.shadowBlur=5,e.shadowOffsetX=0,e.shadowOffsetY=4,e.translate(a,t.height),e.rotate(Math.PI),e.beginPath(),e.moveTo(0,0),e.arc(0,0,n,0,Math.PI),e.closePath(),e.fill(),e.stroke(),e.restore(),n=Math.max(85*o/100,0);for(h=0;h<this.data.length;h++){if(!(s=this.data[h]).checked){var i=230-150/this.data.length*h;e.save(),e.fillStyle="rgb("+i+", "+i+", "+i+")",e.lineWidth=1,e.strokeStyle="#c3c3c3",e.translate(a,t.height);var r=Math.PI+Math.PI/this.data.length*h;e.rotate(r),e.beginPath(),e.moveTo(0,0),e.arc(0,0,n,0,Math.PI/this.data.length),e.closePath(),e.fill(),e.restore()}}n=Math.max(95*o/100,0);for(h=0;h<this.data.length;h++){(s=this.data[h]).checked&&(e.save(),e.fillStyle=s.fillStyle,e.lineWidth=1,e.strokeStyle="#c3c3c3",e.shadowColor="#666666",e.shadowBlur=10,e.shadowOffsetX=0,e.shadowOffsetY=1,e.translate(a,t.height),e.rotate(Math.PI+Math.PI/this.data.length*h),e.beginPath(),e.moveTo(0,0),e.arc(0,0,n,0,Math.PI/this.data.length),e.closePath(),e.fill(),e.restore())}n=Math.max(60*o/100,0);for(h=0;h<this.data.length;h++){var s=this.data[h];e.save(),e.fillStyle=s.titleStyle,e.lineWidth=1,e.strokeStyle="#c3c3c3",e.shadowColor="#999999",e.shadowBlur=3,e.shadowOffsetX=0,e.shadowOffsetY=1,e.font=this.width/this.data.length*20/100+"px Arial",e.textAlign="center",e.translate(a,t.height);r=-Math.PI/2;e.rotate(r),e.rotate(Math.PI/this.data.length*h),e.rotate(Math.PI/this.data.length/2),e.beginPath(),e.moveTo(0,0),e.strokeText(s.title,0,-n),e.fillText(s.title,0,-n),e.closePath(),e.fill(),e.stroke(),e.restore()}n=Math.max(50*o/100,0);for(h=0;h<this.data.length;h++){if((s=this.data[h]).checked){e.save(),e.fillStyle="#ffffff",e.lineWidth=1,e.strokeStyle="#ffffff",e.shadowColor="#c3c3c3",e.shadowBlur=5,e.shadowOffsetX=0,e.shadowOffsetY=4,e.font=Math.PI/this.data.length/2*(this.width/this.data.length)+"px Arial",e.textAlign="center",e.translate(a,t.height);r=-Math.PI/2;e.rotate(r),e.rotate(Math.PI/this.data.length*h),e.rotate(Math.PI/this.data.length/2),e.beginPath();var l=Math.PI/this.data.length/2*(this.width/this.data.length);e.moveTo(-l,0),e.lineTo(0,-n),e.lineTo(l,0),e.closePath(),e.fill(),e.stroke(),e.restore()}}n=Math.max(40*o/100,0),e.save(),e.fillStyle="#ffffff",e.lineWidth=1,e.strokeStyle="#ffffff",e.shadowColor="#c3c3c3",e.shadowBlur=5,e.shadowOffsetX=0,e.shadowOffsetY=4,e.translate(a,t.height),e.rotate(Math.PI),e.beginPath(),e.moveTo(0,0),e.arc(0,0,n,0,Math.PI),e.closePath(),e.fill(),e.stroke(),e.restore()}},t.prototype.drawArc=function(){alert(1)},t.decorators=[{type:e.Component,args:[{selector:"graphk-gaugeStep",template:"<canvas #canvas></canvas>"}]}],t.ctorParameters=function(){return[]},t.propDecorators={width:[{type:e.Input}],height:[{type:e.Input}],padding:[{type:e.Input}],data:[{type:e.Input}],canvasElementRef:[{type:e.Output},{type:e.ViewChild,args:["canvas"]}]},t}(),n=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[],declarations:[a,o],exports:[a,o]}]}],t}();t.GraphkModule=n,Object.defineProperty(t,"__esModule",{value:!0})});