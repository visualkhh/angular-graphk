!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports,require("@angular/core")):"function"==typeof define&&define.amd?define(["exports","@angular/core"],e):e((t.ng=t.ng||{},t.ng["angular-graphk"]={}),t.ng.core)}(this,function(t,e){"use strict";var o=function(){function t(){this._padding=5,this._polygonLength=1,this.polygonLineStrokeStyle="#969696",this.polygonDataFillStyle="rgba(71, 169, 203, 0.5)"}return Object.defineProperty(t.prototype,"polygonLength",{get:function(){return this._polygonLength},set:function(t){this._polygonLength=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"padding",{get:function(){return this._padding},set:function(t){this._padding=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this._data},set:function(t){this._data=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"width",{get:function(){return this._width},set:function(t){this._width=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"height",{get:function(){return this._height},set:function(t){this._height=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.reDraw()},t.prototype.ngOnInit=function(){this.reDraw()},t.prototype.ngAfterViewInit=function(){this.reDraw()},t.prototype.reDraw=function(){var t=this.canvasElementRef.nativeElement,e=t.getContext("2d");if(this.data&&this.data.data&&!(this.data.data.length<3)){t.width=Math.max(this.width-5,0),t.height=Math.max(this.height-5,0);var o=t.width/2,n=t.height/2,a=-Math.PI/2,r=this.data.data.length,i=o-this.padding,s=i/this.polygonLength;this.polygonLine(e,o,n,i,r,a);for(var h=1;h<=this.polygonLength;h++)this.polygon(e,o,n,s*h,r,a);this.polygonData(e,o,n,this.data,i,a)}},t.prototype.polygonData=function(t,e,o,n,a,r){var i=n.data.length;if(!(i<3)){var s=2*Math.PI/i;t.save(),t.strokeStyle=this.polygonDataFillStyle,t.fillStyle=this.polygonDataFillStyle,t.beginPath(),t.translate(e,o),t.rotate(r),t.moveTo(a*n.data[0]/n.max,0);for(var h=1;h<i;h++){var p=a*n.data[h]/n.max;console.log(p);var l=p*Math.cos(s*h),g=p*Math.sin(s*h);t.lineTo(l,g)}t.fill(),t.closePath(),t.stroke(),t.restore()}},t.prototype.polygon=function(t,e,o,n,a,r){if(!(a<3)){var i=2*Math.PI/a;t.save(),t.strokeStyle=this.polygonLineStrokeStyle,t.beginPath(),t.translate(e,o),t.rotate(r),t.moveTo(n,0);for(var s=1;s<a;s++){var h=n*Math.cos(i*s),p=n*Math.sin(i*s);t.lineTo(h,p)}t.closePath(),t.stroke(),t.restore()}},t.prototype.polygonLine=function(t,e,o,n,a,r){if(!(a<3)){var i=2*Math.PI/a;t.save(),t.strokeStyle=this.polygonLineStrokeStyle,t.translate(e,o),t.rotate(r),t.beginPath(),t.moveTo(n,0),t.lineTo(0,0),t.stroke();for(var s=1;s<a;s++){var h=n*Math.cos(i*s),p=n*Math.sin(i*s);t.moveTo(h,p),t.lineTo(0,0),t.stroke()}t.restore()}},t.decorators=[{type:e.Component,args:[{selector:"graphk-polygon",template:"<canvas #canvas></canvas>"}]}],t.ctorParameters=function(){return[]},t.propDecorators={polygonLineStrokeStyle:[{type:e.Input}],polygonLength:[{type:e.Input}],padding:[{type:e.Input}],data:[{type:e.Input}],width:[{type:e.Input}],height:[{type:e.Input}],canvasElementRef:[{type:e.ViewChild,args:["canvas"]}]},t}(),n=function(){function t(){}return t.decorators=[{type:e.NgModule,args:[{imports:[],declarations:[o],exports:[o]}]}],t}();t.GraphkModule=n,Object.defineProperty(t,"__esModule",{value:!0})});